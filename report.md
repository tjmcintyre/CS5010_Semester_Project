## CS Semester Project

Drew Haynes (rbc6wr), Sarah Rodgers (pjk2wq) and Thomas McIntyre (gem5cm)

# Introduction

The excitement of college football immerses and intrigues the American population every fall. In order to better understand the predictive odds of a team’s success in a season and to identify trends over time, exploratory data analysis (EDA) is key to make these inferences. To do so, our project focuses on building an interactive tool that allows a user to perform exploratory analyses on college football teams from 2013 to 2020. This tool will then allow the user to make data-driven inferences and predictions using the statistics and trends identified. 

There is a massive amount of data that is tracked in college football games, thus building a tool to allow for quick user interactivity to learn more about potential variables of interest quickly would be beneficial. Using the python fundamentals we developed in CS5010 we will be able to find the correct packages to download and use to create our first interactive visualization tool.

As alluded to above, one of the main goals is to better understand the predictive odds of a team’s success resulting from many variables within the data set. This tool will be useful in accelerating the process of exploratory data analysis (EDA). Our tool focuses on college football over the past couple years, however we will be able to determine the effectiveness of building a tool similar to ours for other domains. Another goal of the project is to determine whether we believe that our application will be easily repeatable for data sets in other areas of interest.

# The Data and Experimental Design

Our data contains college football statistics since 2013 with a different data set for each year with more than 100 variables to be utilized. The data sets were obtained from Kaggle and can be found using the link here. The use of pandas will be crucial in cleaning our data since some of the years have some extra variables. The variables in the data sets range from simple everyday football statistics such as wins and losses to more complex statistics such as red zone touchdowns and red zone rushing touchdowns. The levels of specificity ranges greatly throughout the dataset. Thus, the idea of building a visualization tool came to fruition.
 
Since the data sets are broken out by each year of college football statistics, we had to perform data pre-processing and cleaning techniques in order to successfully utilize the variables and records across each data set within the tool. The basis of the tool is built around one core dataframe that includes the data across each year of statistics. In order to concatenate the separate data sets, college team names were standardized to the following format ‘School (Conference)’. This included ensuring all abbreviated text forms such ‘St.’ were spelled out as ‘State’. After doing so, additional columns were created that contain the following information: year of the statistic, win percentage, school, and conference. 

In order to enhance our tool and the generated visualizations, we decided to integrate each college football team's logos as the main data point icon within the plots. Using Beautiful Soup, we scraped ESPN’s College Football Power Index (FPI) 2020  to gather the logo for each college football team. More specifically, we used Beautiful Soup methods to extract the text from the ESPN site and store this as an element. In order to access the contents of each element, we looped through the element and extracted the texts from the tags using regular expressions and stored this into a dataframe. This logo is then used to represent each team in the data visualizations. 

After parsing through this information, we identified that the college football team names from Kaggle and ESPN were in different formats. The data from Kaggle contained the school name and conference whereas the ESPN data contained the school name and mascot. In order to cohesively associate the logo with each school, we scraped Wikipedia’s List of NCAA Division I FBS Football Programs to retrieve the school name and mascot and stored this information into respective lists. Using this information, we then mapped the logos and mascot of each school in the data frame. Lastly, using the melt function in python we re-shaped the data frame so that each college football team statistic and year runs vertically rather than horizontally.

The interactive tool was then developed using the Dash package as the web framework for the application. The Dash library allows for flexible and reactive web applications to be created for data analysis, exploration, and visualization. The tool is dependent on user activity to produce the desired visualizations. The user begins by selecting the statistics of interest in the X-variable Selection and Y-variable Selection fields. These values are populated in a drop-down list from the variables that exist across each year of the college football statistics. Since the values are dependent on an existing list, this prevents the user from selecting a statistic that cannot successfully generate a visualization. For example, if a variable existed in only one years college football statistics dataset but not another, this variable will not be an option for the user to select. This allows for error prevention as each of the plots are dependent on the cleaned data frame mentioned earlier. Additionally, the user may select the year of interest to explore with options from 2013 to 2020 by utilizing the Select Year filter. 

Once the variable is selected three plots are generated within the Conference Filter pane. This includes a scatter plot displaying the distribution of the selected statistics with each data point representing a college football team. The user default Conference Filter value is ‘FBS’ which stands for Division I Football Bowl Subdivision (FBS) of the National Collegiate Athletic Association (NCAA) in the United States. A specific conference of interest can be filtered on by selecting a value of interest from a predefined drop-down list and the subsequent plots will update based on the selected value. Additionally, each college football team is represented by their respective logo. By hovering over the data point, the user can see the team's college name and the associated statistical values (i.e., the x and y values). The scatter plot is dynamic and reactive to zoom in and lasso quadrants of interest to further analyze.

The user then can drill down on a team of interest to better understand their trends of the statistics over time. A line plot will be generated representing each of the statistics selected over the years available. This allows for the user to analyze statistics trends for each college football team and identify their successes and failures. As a data analyst or coach, this will be a helpful capability to identify areas of improvement. 

# Results

The main result of our project is the data visualization tool created. The application can be found following this link and cloning the GitHub repository to a local machine (tjmcintyre/CS5010_Semester_Project: CS5010 Semester Project (github.com)). Once the data sets and python scripts are stored on the local machine they can be run to examine how the different pieces of the project were constructed. The cfb_dictionaries.py script contains the web-scraper for additional data and logos, the cfb_dataframe.py contains the data cleansing portion of the project, and finally the cfb_app.py contains the code using the Dash package in order to make an applet. 

After running the first two scripts, the results section will focus on the last script which produces our data visualization tool. When the cfb_app.py script is executed, then python will display a url to enter into the web browser of choice (Mainly was tested on Google Chrome). The landing page of the application will appear similar to Figure 1 below. The tool is styled using CSS for the formatting, color scheme, and fonts. 


